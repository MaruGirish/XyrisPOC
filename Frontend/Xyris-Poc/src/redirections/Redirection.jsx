import React from 'react'
import { useState } from 'react'
import { Button } from "@mui/material"
import { baseRedirectUrl } from "../apiconfig"
import {jwtDecode} from 'jwt-decode'

function Redirection() {


    const handleButton = () => {
        const externalUrl = baseRedirectUrl;
        const authToken = "eyJ0eXAiOiJKV1QiLCJub25jZSI6Ik4wak5VcG5FY18tN0g3ckNveUE4dWJ4MEJSYnl1aF9reDRjbzROeG5ETVUiLCJhbGciOiJSUzI1NiIsIng1dCI6ImtXYmthYTZxczh3c1RuQndpaU5ZT2hIYm5BdyIsImtpZCI6ImtXYmthYTZxczh3c1RuQndpaU5ZT2hIYm5BdyJ9.eyJhdWQiOiIwMDAwMDAwMy0wMDAwLTAwMDAtYzAwMC0wMDAwMDAwMDAwMDAiLCJpc3MiOiJodHRwczovL3N0cy53aW5kb3dzLm5ldC83YzBjMzZmNS1hZjgzLTRjMjQtODg0NC05OTYyZTAxNjM3MTkvIiwiaWF0IjoxNzA3ODE4MjU1LCJuYmYiOjE3MDc4MTgyNTUsImV4cCI6MTcwNzgyMzE3NiwiYWNjdCI6MCwiYWNyIjoiMSIsImFpbyI6IkFWUUFxLzhWQUFBQVpPcWRkZC81bWVJRmhpZnhCa3VMYmNuYnp1VkN6L3dNZnROU1BSZXJWMEt3MkdKUXVvN1Y0dWgyc0xmdThWNXBFalhDblU1c014eWlLOG5VMzltUVdsS3NGdVI2NDJDMUFPejc5NGdrRHJJPSIsImFtciI6WyJwd2QiLCJyc2EiXSwiYXBwX2Rpc3BsYXluYW1lIjoiVGVuamluLVh5cmlzIERldmVsb3BtZW50IiwiYXBwaWQiOiI1NWJjZTE2ZS0wMzkwLTQzMTYtYjhkNC03NjU3OGEwZjI3YTgiLCJhcHBpZGFjciI6IjAiLCJkZXZpY2VpZCI6Ijg4Y2Q3Y2VjLTlhOGYtNGUwMi05ZDNkLWY2NzYxN2IxMjhiNSIsImZhbWlseV9uYW1lIjoiR2lyaXNoIGt1bWFyIiwiZ2l2ZW5fbmFtZSI6Ik1hcnUiLCJpZHR5cCI6InVzZXIiLCJpcGFkZHIiOiIxMzQuMjM4LjkuMzAiLCJuYW1lIjoiTWFydSBHaXJpc2gga3VtYXIiLCJvaWQiOiI4NjBjN2YxMy1kM2FiLTRlNmMtYWQ4Ny04MGRmNTViMTMzZGQiLCJvbnByZW1fc2lkIjoiUy0xLTUtMjEtMTY0NDQ5MTkzNy04MTM0OTc3MDMtNjgyMDAzMzMwLTI3NTUwMiIsInBsYXRmIjoiMyIsInB1aWQiOiIxMDAzMjAwMjA4NjA4RTU2IiwicmgiOiIwLkFWTUE5VFlNZklPdkpFeUlSSmxpNEJZM0dRTUFBQUFBQUFBQXdBQUFBQUFBQUFCVEFORS4iLCJzY3AiOiJvcGVuaWQgcHJvZmlsZSBVc2VyLlJlYWQgZW1haWwiLCJzaWduaW5fc3RhdGUiOlsiZHZjX21uZ2QiLCJkdmNfZG1qZCIsImlua25vd25udHdrIiwia21zaSJdLCJzdWIiOiJWZFh4ZjM4eTJhNXZrWFBrMmJkZXRwMTBLSjg2Y3ZzOF9LY19oS056bUVjIiwidGVuYW50X3JlZ2lvbl9zY29wZSI6IkFTIiwidGlkIjoiN2MwYzM2ZjUtYWY4My00YzI0LTg4NDQtOTk2MmUwMTYzNzE5IiwidW5pcXVlX25hbWUiOiIxMDAwMDc1Njg5QGhleGF3YXJlLmNvbSIsInVwbiI6IjEwMDAwNzU2ODlAaGV4YXdhcmUuY29tIiwidXRpIjoiRHdKNmNIYi1hRTIyMmdsdXdaU2lBQSIsInZlciI6IjEuMCIsIndpZHMiOlsiYjc5ZmJmNGQtM2VmOS00Njg5LTgxNDMtNzZiMTk0ZTg1NTA5Il0sInhtc19zdCI6eyJzdWIiOiJfM25PQ0tRWHZnYnF0STBmQ2NqSzM2enhKWW4xd19aMExGNXBPeC1wU3BFIn0sInhtc190Y2R0IjoxMzkyMTEyNjEzfQ.X-TR2MXXidMnagFI8Y7-gM9QRMvS2PQAk5YYdAXKhaBudyBrYjzuNhAaVbQ1pXD8VEd-9DK3bqJMyT5eRt80MHBKr8xqOeRdhpnS8GmGK0YR-dwzQmMJW7ktCBf6gk2HKiut4UhR917KgwV_TkANuYHkqLwbJyStwhh8ZWsoCQySk33FxtAUqr69lpSvhvqykzHucWidrpSgI-Kdzy02OfE9wRaCzRx3KUxXpMExzt_-0kN-vPV11nDs2E-4YP7WtjeyjIuiSmPSt_2ASbEZ2xQ7vwATQsYa75_-y4-cpiHuPA3PCrkOEUz5SfpGzOuHIQub2t3asScscc_tuEc8pA"
        const IdToken = "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6ImtXYmthYTZxczh3c1RuQndpaU5ZT2hIYm5BdyJ9.eyJhdWQiOiI1NWJjZTE2ZS0wMzkwLTQzMTYtYjhkNC03NjU3OGEwZjI3YTgiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vN2MwYzM2ZjUtYWY4My00YzI0LTg4NDQtOTk2MmUwMTYzNzE5L3YyLjAiLCJpYXQiOjE3MDc4MTgyNTUsIm5iZiI6MTcwNzgxODI1NSwiZXhwIjoxNzA3ODIyMTU1LCJhaW8iOiJBWFFBaS84VkFBQUE2QlpqVnRYdjlkZGs1cE9ESTZUUUNqeU5yNUdGait2SHoxenE3OG1FSGdWRW1PSDV5WXFRVEp1YUNCNXdDSlpTNk85K1hvRGZvdldPOWVYcTg1WUE5Z2g4UmMvVFhUSVFWdXVtN215aldnaG5xbHNKdVJMZTliOU5sWVpwQUpZTFRHekpLNVpId1B4MDBJUmtRT1BWb3c9PSIsImVtYWlsIjoiTWFydUdAaGV4YXdhcmUuY29tIiwiZmFtaWx5X25hbWUiOiJHaXJpc2gga3VtYXIiLCJnaXZlbl9uYW1lIjoiTWFydSIsImdyb3VwcyI6WyJNYXZlcmlja3MgLSBKdW5lIDIwMjItMS0xNTEzMzA5MzUxIiwiSGV4YXdhcmUgV29ybGQiLCJPbmVkcml2ZVByb2plY3RBY2Nlc3NFbmFibGVkIiwiU29uaWNfTGVhcm5lcnMiLCJIZXhhd2FyZSBJbmRpYSIsIkdSUF9DcmVkaXRzdWlzc2UiLCJyYWlzZWl0YXV0b21hdGlvbiIsIkdQIHVwZ3JhZGUgUGhhc2UgMy0xMTk2ODU4MDQ5NSIsIkV4dGVybmFsX09XQUJsb2NrIiwiQ2hlbm5haSBFbXBsb3llZXMiLCJQUkotMzYxOCIsIlZQTl9Vc2VycyIsInRlbmppbl9nZW5haS0xLTE3ODMzNTM2ODUiLCJQUkotNjAwNyIsIkFsbCBFbXBsb3llZXMgKEhleGF3YXJlKSIsIkdSUF9IRVhBVkFSU0lUWSIsIkJDUEFWRF9NZW1iZXIiLCJTZWN1cml0eSBncm91cCBmb3IgT25lIGRyaXZlIiwiSGV4YXdhcmUtSVQgQWxsIEVtcGxveWVlcy0xLTE1NjQ5NDk2NDEiLCJQQy0xMDg0MSJdLCJpcGFkZHIiOiIxMzQuMjM4LjkuMzAiLCJuYW1lIjoiTWFydSBHaXJpc2gga3VtYXIiLCJub25jZSI6IjUyZmIzNWIwLWEyODAtNGNmZS1hM2YwLTUwNjhlOTcxM2M5MCIsIm9pZCI6Ijg2MGM3ZjEzLWQzYWItNGU2Yy1hZDg3LTgwZGY1NWIxMzNkZCIsInByZWZlcnJlZF91c2VybmFtZSI6IjEwMDAwNzU2ODlAaGV4YXdhcmUuY29tIiwicmgiOiIwLkFWTUE5VFlNZklPdkpFeUlSSmxpNEJZM0dXN2h2RldRQXhaRHVOUjJWNG9QSjZoVEFORS4iLCJyb2xlcyI6WyJIUi1Vc2VyIiwiVEVTVElORy1Vc2VyIiwiU3lzdGVtLUFkbWluIiwiSFItQWRtaW4iLCJGSU5BTkNFLUFkbWluIl0sInN1YiI6Il8zbk9DS1FYdmdicXRJMGZDY2pLMzZ6eEpZbjF3X1owTEY1cE94LXBTcEUiLCJ0aWQiOiI3YzBjMzZmNS1hZjgzLTRjMjQtODg0NC05OTYyZTAxNjM3MTkiLCJ1cG4iOiIxMDAwMDc1Njg5QGhleGF3YXJlLmNvbSIsInV0aSI6IkR3SjZjSGItYUUyMjJnbHV3WlNpQUEiLCJ2ZXIiOiIyLjAiLCJ2ZXJpZmllZF9wcmltYXJ5X2VtYWlsIjpbIk1hcnVHQGhleGF3YXJlLmNvbSJdLCJ3aWRzIjpbImI3OWZiZjRkLTNlZjktNDY4OS04MTQzLTc2YjE5NGU4NTUwOSJdfQ.qyQ73_xBoC866FXnbmuMRQx8Vh2ERfMiEeSiQ8u2l6Yw0dHFM5LkhPlItuzhZ9-suf5z9vp2EcORxCA16fw2Pal1Pen6E1y_vx3745tbOp7RAHneRpeIHoPVUsvEp2DPvVGWtuc9-S2OrCgKIi50LpDlf-zXwJO7FTQ1ibIywlFocNiYQG2Ey4NVnu0qwXZFK3jWStpR3VcGaBQfEUNggewxN7IS9JjmlbBA4zHarsSIXR2sOCL_xEfTt5aceAew_A0mYz7xTgiWw3LcBRgxVdW9pBld7giHL2c5KgNvhtqnTCHYLgOxavQqxFvkMvRAvVF_I_hrq8JlBP2eFC0iZA";
       
        const urlWithParams = `${externalUrl}?authToken=${authToken}&idToken=${IdToken}`;
        window.location.href = urlWithParams;
    }

    const handleButton2 = ()=>{
        // const IdToken = "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6ImtXYmthYTZxczh3c1RuQndpaU5ZT2hIYm5BdyJ9.eyJhdWQiOiI1NWJjZTE2ZS0wMzkwLTQzMTYtYjhkNC03NjU3OGEwZjI3YTgiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vN2MwYzM2ZjUtYWY4My00YzI0LTg4NDQtOTk2MmUwMTYzNzE5L3YyLjAiLCJpYXQiOjE3MDc4MTgyNTUsIm5iZiI6MTcwNzgxODI1NSwiZXhwIjoxNzA3ODIyMTU1LCJhaW8iOiJBWFFBaS84VkFBQUE2QlpqVnRYdjlkZGs1cE9ESTZUUUNqeU5yNUdGait2SHoxenE3OG1FSGdWRW1PSDV5WXFRVEp1YUNCNXdDSlpTNk85K1hvRGZvdldPOWVYcTg1WUE5Z2g4UmMvVFhUSVFWdXVtN215aldnaG5xbHNKdVJMZTliOU5sWVpwQUpZTFRHekpLNVpId1B4MDBJUmtRT1BWb3c9PSIsImVtYWlsIjoiTWFydUdAaGV4YXdhcmUuY29tIiwiZmFtaWx5X25hbWUiOiJHaXJpc2gga3VtYXIiLCJnaXZlbl9uYW1lIjoiTWFydSIsImdyb3VwcyI6WyJNYXZlcmlja3MgLSBKdW5lIDIwMjItMS0xNTEzMzA5MzUxIiwiSGV4YXdhcmUgV29ybGQiLCJPbmVkcml2ZVByb2plY3RBY2Nlc3NFbmFibGVkIiwiU29uaWNfTGVhcm5lcnMiLCJIZXhhd2FyZSBJbmRpYSIsIkdSUF9DcmVkaXRzdWlzc2UiLCJyYWlzZWl0YXV0b21hdGlvbiIsIkdQIHVwZ3JhZGUgUGhhc2UgMy0xMTk2ODU4MDQ5NSIsIkV4dGVybmFsX09XQUJsb2NrIiwiQ2hlbm5haSBFbXBsb3llZXMiLCJQUkotMzYxOCIsIlZQTl9Vc2VycyIsInRlbmppbl9nZW5haS0xLTE3ODMzNTM2ODUiLCJQUkotNjAwNyIsIkFsbCBFbXBsb3llZXMgKEhleGF3YXJlKSIsIkdSUF9IRVhBVkFSU0lUWSIsIkJDUEFWRF9NZW1iZXIiLCJTZWN1cml0eSBncm91cCBmb3IgT25lIGRyaXZlIiwiSGV4YXdhcmUtSVQgQWxsIEVtcGxveWVlcy0xLTE1NjQ5NDk2NDEiLCJQQy0xMDg0MSJdLCJpcGFkZHIiOiIxMzQuMjM4LjkuMzAiLCJuYW1lIjoiTWFydSBHaXJpc2gga3VtYXIiLCJub25jZSI6IjUyZmIzNWIwLWEyODAtNGNmZS1hM2YwLTUwNjhlOTcxM2M5MCIsIm9pZCI6Ijg2MGM3ZjEzLWQzYWItNGU2Yy1hZDg3LTgwZGY1NWIxMzNkZCIsInByZWZlcnJlZF91c2VybmFtZSI6IjEwMDAwNzU2ODlAaGV4YXdhcmUuY29tIiwicmgiOiIwLkFWTUE5VFlNZklPdkpFeUlSSmxpNEJZM0dXN2h2RldRQXhaRHVOUjJWNG9QSjZoVEFORS4iLCJyb2xlcyI6WyJIUi1Vc2VyIiwiVEVTVElORy1Vc2VyIiwiU3lzdGVtLUFkbWluIiwiSFItQWRtaW4iLCJGSU5BTkNFLUFkbWluIl0sInN1YiI6Il8zbk9DS1FYdmdicXRJMGZDY2pLMzZ6eEpZbjF3X1owTEY1cE94LXBTcEUiLCJ0aWQiOiI3YzBjMzZmNS1hZjgzLTRjMjQtODg0NC05OTYyZTAxNjM3MTkiLCJ1cG4iOiIxMDAwMDc1Njg5QGhleGF3YXJlLmNvbSIsInV0aSI6IkR3SjZjSGItYUUyMjJnbHV3WlNpQUEiLCJ2ZXIiOiIyLjAiLCJ2ZXJpZmllZF9wcmltYXJ5X2VtYWlsIjpbIk1hcnVHQGhleGF3YXJlLmNvbSJdLCJ3aWRzIjpbImI3OWZiZjRkLTNlZjktNDY4OS04MTQzLTc2YjE5NGU4NTUwOSJdfQ.qyQ73_xBoC866FXnbmuMRQx8Vh2ERfMiEeSiQ8u2l6Yw0dHFM5LkhPlItuzhZ9-suf5z9vp2EcORxCA16fw2Pal1Pen6E1y_vx3745tbOp7RAHneRpeIHoPVUsvEp2DPvVGWtuc9-S2OrCgKIi50LpDlf-zXwJO7FTQ1ibIywlFocNiYQG2Ey4NVnu0qwXZFK3jWStpR3VcGaBQfEUNggewxN7IS9JjmlbBA4zHarsSIXR2sOCL_xEfTt5aceAew_A0mYz7xTgiWw3LcBRgxVdW9pBld7giHL2c5KgNvhtqnTCHYLgOxavQqxFvkMvRAvVF_I_hrq8JlBP2eFC0iZA";
        // const token="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiODYwYzdmMTMtZDNhYi00ZTZjLWFkODctODBkZjU1YjEzM2RkIiwiZXhwaXJlcyI6MTcwNzkxMjA3OC41ODQzNzN9.5AOJXtjjztTBEfuWaNEFPvMsYV0S_HsWE4YpGJi5JDc"
        // const decodedIdToken= jwtDecode(IdToken);
        // const familyName=decodedIdToken.family_name
        // const userName= decodedIdToken.name
        // const givenName=decodedIdToken.given_name
        // console.log(decodedIdToken)
        // const user_id=jwtDecode(token).user_id
        // const userrole ="Admin"
        // window.location.href=`https://tensaigpt-demo.tensai.run/auth_callback_success/?token=${token}&user_id=${user_id}&user_name=${userName}&user_role=${userrole}&display_name=${givenName}&given_name=${givenName}&family_name=${familyName}&theme=Light&show_user_policy=False`
        window.location.href=`https://tensaigpt-dev.hexaware.com/engine/api/auth/login`
    }
    return (
        <div>
            <div style={{ display: "flex", justifyContent: "center", alignItems: "center", height: "100vh" }}>
                <Button style={{ marginRight: "10px" }} variant="contained" onClick={handleButton}>Xyris</Button>
                <Button variant="contained" onClick={handleButton2}>ChatVNT</Button>
            </div>
        </div>
    )
}

export default Redirection
